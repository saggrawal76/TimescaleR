% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/query.R
\name{time_weighted_average}
\alias{time_weighted_average}
\title{Calculate time-weighted average of a value over time}
\usage{
time_weighted_average(
  conn = NULL,
  table_name,
  value_column,
  time_column,
  where_clause = NULL,
  debug = FALSE
)
}
\arguments{
\item{conn}{Database connection object (optional, uses global connection if NULL)}

\item{table_name}{Name of the table}

\item{value_column}{Name of the value column to interpolate}

\item{time_column}{Name of the time column}

\item{where_clause}{Optional WHERE clause}

\item{debug}{Enable debug messages (optional, default FALSE)}
}
\value{
Time-weighted average result
}
\description{
Calculate time-weighted average of a value over time
}
\examples{
\dontrun{
# Using global connection
init_connection(
  host = "localhost", 
  port = 5432, 
  db = "testdb", 
  user = "testuser", 
  pass = "testpass", 
  schema = "public"
)
twa <- time_weighted_average(
  table_name = "sensor_data",
  value_column = "temperature",
  time_column = "timestamp"
)

# With a filter condition
twa_filtered <- time_weighted_average(
  table_name = "sensor_data",
  value_column = "temperature",
  time_column = "timestamp",
  where_clause = "device_id = 'dev001'"
)

# Or with explicit connection
conn <- get_connection()
twa <- time_weighted_average(
  conn,
  "sensor_data",
  "temperature",
  "timestamp"
)
}
}
