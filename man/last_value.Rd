% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/query.R
\name{last_value}
\alias{last_value}
\title{Get the last value in a time series}
\usage{
last_value(
  table_name,
  value_column,
  time_column,
  where_clause = NULL,
  auto_reconnect = TRUE
)
}
\arguments{
\item{table_name}{Name of the table}

\item{value_column}{Name of the value column}

\item{time_column}{Name of the time column}

\item{where_clause}{Optional WHERE clause}

\item{auto_reconnect}{Whether to attempt reconnection if the connection is lost (default: TRUE)}
}
\value{
The last value as a data frame
}
\description{
Retrieves the last (most recent) value from a time series, based on the maximum
value of the specified time column.
Uses the global database connection initialized with init_connection().
}
\examples{
\dontrun{
# Initialize global connection
init_connection(
  host = "localhost", port = 5432,
  db = "testdb", user = "testuser", pass = "testpass"
)

# Get the last temperature reading
last_temp <- last_value(
  table_name = "weather_data",
  value_column = "temperature",
  time_column = "timestamp"
)

# Get the last reading with a condition
last_reading <- last_value(
  table_name = "sensor_data",
  value_column = "reading",
  time_column = "time",
  where_clause = "sensor_id = 'ABC123'"
)

# Always close the connection when done
close_connection()
}
}
